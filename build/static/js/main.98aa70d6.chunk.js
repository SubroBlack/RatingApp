(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{122:function(e,t,a){e.exports=a(187)},131:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),i=a.n(c),o=a(8),l=a(28),u=(a(131),a(11)),s=a(4),m=a.n(s),d=a(7),f=a(22),p=a.n(f),b=function(){var e=window.localStorage.getItem("loggedRatingAppAdmin"),t=JSON.parse(e);if(t)return t;var a=window.localStorage.getItem("loggedRatingAppUser"),n=JSON.parse(a);return n||null},v=b,g=function(){var e=function(){var e=b();return e?"bearer ".concat(e.token):null}();return null===e?null:{headers:{auth:e}}},h="/api/items",E={getAll:function(){var e=Object(d.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g(),e.next=3,p.a.get(h,t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getItem:function(){var e=Object(d.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=g(),e.next=3,p.a.get("".concat(h,"/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addItem:function(){var e=Object(d.a)(m.a.mark((function e(t){var a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=v(),console.log("New Item to be sent: ",t),"admin"===a.role){e.next=5;break}throw console.log("WOOPsss, it got caught: ",a.role),new Error("Only Admin can Add Items");case 5:return n=g(),e.next=8,p.a.post(h,t,n);case 8:return r=e.sent,console.log("New Item Added: ",r.data),e.abrupt("return",r.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),editItem:function(){var e=Object(d.a)(m.a.mark((function e(t,a){var n,r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("admin"===(n=v()).role){e.next=4;break}throw console.log("WOOPsss, it got caught: ",n.role),new Error("Only Admin can Add Items");case 4:return r=g(),e.next=7,p.a.put("".concat(h,"/").concat(t),a,r);case 7:return c=e.sent,e.abrupt("return",c.data);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),rateItem:function(){var e=Object(d.a)(m.a.mark((function e(t,a){var n,r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("user"===(n=v()).role){e.next=4;break}throw console.log("WOOPsss, it got caught: ",n.role),new Error("Only User can Rate Items");case 4:return r=g(),e.next=7,p.a.put("".concat(h,"/rate/").concat(t),a,r);case 7:return c=e.sent,e.abrupt("return",c.data);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),removeItem:function(){var e=Object(d.a)(m.a.mark((function e(t){var a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("admin"===(a=v()).role){e.next=4;break}throw console.log("WOOPsss, it got caught: ",a.role),new Error("Only Admin can Delete Items");case 4:return n=g(),e.next=7,p.a.delete("".concat(h,"/").concat(t),n);case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},w=0,O="",j=function(e){return{type:"NOTIFY",data:e}},y=function(e,t){return function(){var a=Object(d.a)(m.a.mark((function a(n){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n(j(e)),(w+=1)>1&&clearTimeout(O),O=setTimeout((function(){n((w=0,{type:"CLEAR",data:""}))}),1e3*t);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTIFY":case"CLEAR":return t.data;default:return e}},k=function(){return function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.getAll();case 2:a=e.sent,t({type:"ITEMS",data:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(d.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.getItem(e);case 2:n=t.sent,console.log("Single Item fetched: ",n),a({type:"GET_ITEM",data:n});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(d.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.addItem(e);case 2:n=t.sent,a({type:"NEW",data:n}),a(y({data:"".concat(n.name," added to collection"),category:"success"},5));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(e,t){return function(){var a=Object(d.a)(m.a.mark((function a(n){var r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.editItem(e,t);case 2:r=a.sent,n({type:"EDITED",data:r}),n(y({data:"".concat(r.name," updated in collection"),category:"success"},5));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},A=function(e,t){return function(){var a=Object(d.a)(m.a.mark((function a(n){var r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.rateItem(e,t);case 2:r=a.sent,n({type:"EDITED",data:r}),n(y({data:"Thank You for your feedback",category:"success"},3.5));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},D=function(e){return function(){var t=Object(d.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.removeItem(e.id);case 2:a({type:"DELETE",data:e}),a(y({data:"".concat(e.name," removed from collection"),category:"success"},5));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ITEMS":case"GET_ITEM":return t.data;case"NEW":return e.concat(t.data);case"EDITED":var a=e.filter((function(e){return e.id!==t.data.id}));return a.concat(t.data);case"DELETE":return e.filter((function(e){return e.id!==t.data.id}));default:return e}},R=function(){return r.a.createElement("div",{style:{}},r.a.createElement("h3",null,"Get Feedback from your in-store customers"),r.a.createElement("h3",null,"Check the viability of new addition in your service in trial period"),r.a.createElement("h3",null,"Monitor the customer service"),r.a.createElement("h3",null,"Get feedbacks for daily specials"),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("h2",null,"Features:"),r.a.createElement("ul",null,r.a.createElement("li",null,"The App Menu opens with the click on the burger menu on the top left corner."),r.a.createElement("li",null,"User Registration and Login"),r.a.createElement("li",null,"User Mode and Admin Modes are accessed from the App Menu"),r.a.createElement("li",null,"Posting Reviews and Rates is possible from User Mode on the Home Page"),r.a.createElement("li",null,"Adding and Editing Items for Review/Ratings from the Dashboard"),r.a.createElement("li",null,"Checking the Rates and Reviews received and Editing the Profile from DashBoard")))},T=a(9),U=a(227),L=a(220),z=a(34),B=a(228),W=a(229),q=a(99),P=a.n(q),F=a(100),M=a(223),G=a(240),J=a(242),_=a(59),Y=a.n(_),V=a(106),H=a.n(V),K={.5:"Completely Useless",.75:"Useless",1:"Almost Useless",1.25:"Disappointing",1.5:"Poor",1.75:"Very Bad",2:"Bad",2.25:"Not So Bad",2.5:"Barely Fine",2.75:"Fine",3:"Good",3.25:"Very Good",3.5:"Cool",3.75:"Very Cool",4:"Super",4.25:"Great",4.5:"Awesome",4.75:"Excellent",5:"Amazing"},Q=Object(L.a)({root:{display:"flex",width:"90vw",margin:"auto",justifyContent:"center",marginBottom:"0.5%"},fixedRate:{display:"block",justifyContent:"center",textAlign:"center"},commentButton:{position:"absolute",zIndex:"2",margin:"0.1%",color:"#282c34",right:"0.1%",bottom:"0.1%"},commentSection:{position:"fixed",width:"100%",top:"15vh",margin:"auto",backgroundColor:"#b3b3b3",opacity:"0.9",color:"white"},commentForm:{width:"85%",margin:"auto",paddingBottom:"10%"}}),X=function(e){var t=e.item,a=e.setAuto,c=Object(n.useState)(0),i=Object(T.a)(c,2),l=i[0],u=i[1],s=Object(n.useState)(!1),m=Object(T.a)(s,2),d=m[0],f=m[1],p=Object(n.useState)(""),b=Object(T.a)(p,2),v=b[0],g=b[1],h=Q(),E=Object(o.b)(),w=Object(o.c)((function(e){return e.logged})),O=function(){f(!1),u(0),g(""),a(!0)},j=function(){var e={};e.rate=l,e.comment=v,E(A(t.id,e)),O()};if(w&&"admin"===w.role&&t.review){var y=0;Array.from(t.review,(function(e){return y+=e.rate}));var x=y/t.review.length;t.rate=x}return r.a.createElement("div",{className:h.root},w&&"admin"===w.role?r.a.createElement("div",{className:h.fixedRate},r.a.createElement(J.a,{name:"rate",value:t.rate,precision:.25,size:"large",disabled:!0}),r.a.createElement("br",null),r.a.createElement("div",null,K[t.rate])):r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{name:"size-large",value:l,precision:.5,size:"large",onChange:function(e,a){!function(){var e={};e.rate=l,e.comment="",E(A(t.id,e)),u(0)}()},onChangeActive:function(e,t){u(t)}}),r.a.createElement("span",null,r.a.createElement(M.a,{className:h.commentButton,onClick:function(){a(!1),f(!0)}},r.a.createElement(H.a,{fontSize:"inherit"}))),function(){if(d)return r.a.createElement("div",{className:h.commentSection},r.a.createElement(M.a,{className:h.closeButton,onClick:O},r.a.createElement(Y.a,null)),r.a.createElement("div",{className:h.commentForm},r.a.createElement("form",{className:h.fixedRate},r.a.createElement("h5",null,"Reviewing ",t.name),r.a.createElement("div",null,r.a.createElement(J.a,{name:"review-rate",value:l,precision:.5,size:"large",onChange:function(e,t){u(t)}})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(G.a,{id:"outlined-multiline-flexible",required:!0,rowsMax:"2",name:"comment",label:"Comment",value:v,onChange:function(e){var t=e.target;return g(t.value)},variant:"outlined"})),r.a.createElement("br",null),r.a.createElement(U.a,{type:"submit",onClick:j},"Submit"))))}()))},Z=Object(F.autoPlay)(P.a),$=Object(L.a)((function(e){return{root:{width:"100%",flexGrow:1},header:{textAlign:"center"},reviewSection:{},imgContainer:{display:"flex",width:"100%",paddingTop:"0.5vmin",marginBottom:"0.5vmin"},img:{margin:"auto",height:"80vh",width:"auto",maxWidth:"90%",overflow:"hidden"},stepper:{backgroundColor:"#282c34"},stepperLabelLeft:{position:"absolute",left:"0",bottom:"45%",zIndex:"1",margin:"1%"},stepperLabelRight:{position:"absolute",right:"0",bottom:"45%",zIndex:"1",margin:"1%"}}})),ee=function(e){var t=e.items,a=e.open,c=$(),i=Object(z.a)(),o=Object(n.useState)(0),l=Object(T.a)(o,2),u=l[0],s=l[1],m=Object(n.useState)(!0),d=Object(T.a)(m,2),f=d[0],p=d[1],b=t.length;return r.a.createElement("div",{className:c.root},r.a.createElement(Z,{axis:"rtl"===i.direction?"x-reverse":"x",index:u,onChangeIndex:function(e){s(e)},enableMouseEvents:!0,autoplay:f},t.map((function(e,n){return r.a.createElement("div",{className:c.imgContainer,key:n},Math.abs(u-n)<=2?r.a.createElement("img",{className:c.img,src:"/api/items/image/"+e.filename,alt:e.name,onClick:function(){return a(t[u])}}):null)}))),r.a.createElement(U.a,{className:c.stepperLabelLeft,size:"small",onClick:function(){s((function(e){return e-1}))},disabled:0===u},"rtl"===i.direction?r.a.createElement(B.a,null):r.a.createElement(W.a,null)),r.a.createElement(U.a,{className:c.stepperLabelRight,size:"small",onClick:function(){s((function(e){return e+1}))},disabled:u===b-1},"rtl"===i.direction?r.a.createElement(W.a,null):r.a.createElement(B.a,null)),r.a.createElement("div",null,r.a.createElement("div",{className:c.header},t[u].name),r.a.createElement("div",{className:c.reviewSection},r.a.createElement(X,{item:t[u],setAuto:p}))))},te=function(){var e=Object(u.f)(),t=Object(o.b)(),a=Object(o.c)((function(e){return e.logged}));Object(n.useEffect)((function(){t(k())}),[a,t]);var c=Object(o.c)((function(e){return e.items})),i=function(t){"admin"===a.role?e.push("/items/".concat(t.id)):console.log("Not Authorized")};return r.a.createElement("div",null,c.length<1?r.a.createElement(R,null):r.a.createElement(ee,{items:c,open:i}))},ae=a(107),ne=a(3),re=a(230),ce=a(231),ie=a(243),oe=a(232),le=a(233),ue=a(234),se=a(109),me=a.n(se),de=a(108),fe=a.n(de),pe=a(63),be=a.n(pe),ve=Object(L.a)((function(e){return{root:{maxWidth:"90vmin",margin:"auto",marginBottom:"4%"},imgContainer:{display:"flex",backgroundColor:"#282c34"},media:{height:"50vmin",margin:"auto"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:"#282c34"},fixedRate:{display:"block",justifyContent:"center",textAlign:"center",borderStyle:"solid",borderWidth:"3px",marginBottom:"2%",paddingTop:"1%",paddingBottom:"1%"},review:{display:"flex"},rates:{maxWidth:"40%"},comment:{width:"60%",marginLeft:"auto",textAlign:"center"}}})),ge=function(){var e=ve(),t=r.a.useState(!1),a=Object(T.a)(t,2),c=a[0],i=a[1],l=Object(o.b)(),s=Object(o.c)((function(e){return e.logged})),f=Object(u.f)(),p=Object(u.g)().id;Object(n.useEffect)((function(){l(S(p))}),[s,p,l]);var b=Object(o.c)((function(e){return e.items}));if(!b||b.length<1)return null;var v=b[0],g=function(){f.push("/edit/".concat(v.id))},h=function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(D(v)),window.history.back();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){i(!c)};if(s&&"admin"===s.role&&v.review){var w=0;Array.from(v.review,(function(e){return w+=e.rate}));var O=w/v.review.length;v.rate=O}var j=new Date(Date.parse(v.posted)).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return r.a.createElement("div",null,r.a.createElement(re.a,{className:e.root,raised:!0},r.a.createElement(ce.a,{avatar:r.a.createElement(ie.a,{"aria-label":"recipe",className:e.avatar},v.name[0]),action:r.a.createElement(M.a,{"aria-label":"close",onClick:function(){window.history.back()}},r.a.createElement(Y.a,null)),title:v.name,subheader:j}),r.a.createElement(oe.a,null,v.category),r.a.createElement("div",{className:e.imgContainer},r.a.createElement("img",{className:e.media,alt:v.filename,src:"/api/items/image/"+v.filename})),r.a.createElement(oe.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.fixedRate},"Average Rating",r.a.createElement("br",null),r.a.createElement(J.a,{name:"size-large",value:v.rate,precision:.25,size:"large",disabled:!0})),v.description)),r.a.createElement(le.a,{disableSpacing:!0},r.a.createElement(M.a,{color:"inherit",onClick:g,"aria-label":"Edit"},r.a.createElement(fe.a,null)),r.a.createElement(M.a,{color:"secondary",onClick:h,"aria-label":"Delete"},r.a.createElement(be.a,null)),r.a.createElement(M.a,{className:Object(ne.a)(e.expand,Object(ae.a)({},e.expandOpen,c)),color:"inherit",onClick:E,"aria-expanded":c,"aria-label":"show more"},r.a.createElement(me.a,null))),r.a.createElement(ue.a,{in:c,timeout:"auto",unmountOnExit:!0},r.a.createElement(oe.a,null,v.review?r.a.createElement(r.a.Fragment,null,v.review.map((function(t,a){return r.a.createElement("div",{key:a,className:e.review},r.a.createElement("span",{className:e.rates},r.a.createElement(J.a,{name:"size-medium",value:t.rate,precision:.5,size:"medium",disabled:!0})),r.a.createElement("span",{className:e.comment},t.comment?t.comment:null))}))):null))))},he=(a(186),{login:function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("/api/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),adminLogin:function(){var e=Object(d.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=g(),e.next=3,p.a.post("/api/login/admin/",t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Ee=function(e){return{type:"SET_LOGGED",user:e}},we=function(e,t){return function(){var a=Object(d.a)(m.a.mark((function a(n){var r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.login({name:e,password:t});case 3:if(!(r=a.sent).token){a.next=10;break}return window.localStorage.setItem("loggedRatingAppUser",JSON.stringify(r)),a.next=8,n(y({data:"Welcome",category:"success"},5));case 8:a.next=12;break;case 10:return a.next=12,n(y({data:r.error,category:"error"},5));case 12:return a.next=14,n(Ee(r));case 14:a.next=21;break;case 16:return a.prev=16,a.t0=a.catch(0),console.log("Notification Reducer login err: ",a.t0),a.next=21,n(y({data:"Wrong Name or Password",category:"error"},5));case 21:case"end":return a.stop()}}),a,null,[[0,16]])})));return function(e){return a.apply(this,arguments)}}()},Oe=function(){return function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.localStorage.removeItem("loggedRatingAppAdmin"),window.localStorage.removeItem("loggedRatingAppUser"),e.next=4,v();case 4:return a=e.sent,e.next=7,t(Ee(a));case 7:return e.next=9,t(y({data:"See Ya!",category:"success"},5));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},je=function(e){return function(){var t=Object(d.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.adminLogin({adminPin:e});case 3:if(!(n=t.sent).token){t.next=12;break}return window.localStorage.setItem("loggedRatingAppAdmin",JSON.stringify(n)),t.next=8,a(Ee(n));case 8:return t.next=10,a(y({data:"Admin mode",category:"success"},5));case 10:t.next=14;break;case 12:return t.next=14,a(y({data:n.error,category:"error"},5));case 14:t.next=20;break;case 16:return t.prev=16,t.t0=t.catch(0),t.next=20,a(y({data:"".concat(t.t0),category:"error"},5));case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOGGED":return t.user;default:return e}},xe=Object(L.a)({root:{borderStyle:"solid",borderRadius:"1%",borderWidth:"4px",margin:"2%",paddingTop:"2%",paddingBottom:"2%"},header:{textAlign:"center"},form:{display:"grid",width:"25vmax",margin:"auto"}}),ke=function(){var e=Object(n.useState)(""),t=Object(T.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(""),l=Object(T.a)(i,2),s=l[0],f=l[1],p=xe(),b=Object(o.b)(),v=Object(u.f)(),g=Object(o.c)((function(e){return e.logged}));g&&g.role&&v.push("/");var h=function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),b(we(a,s)),c(""),f("");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:p.root},r.a.createElement("h3",{className:p.header},"Login"),r.a.createElement("form",{onSubmit:h,className:p.form},r.a.createElement(G.a,{required:!0,id:"outlined-required",label:"Name",name:"name",value:a,onChange:function(e){var t=e.target;return c(t.value)},variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(G.a,{required:!0,id:"outlined-password-input",label:"Password",name:"password",type:"password",value:s,onChange:function(e){var t=e.target;return f(t.value)},variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(U.a,{type:"submit"},"Submit"),r.a.createElement("br",null),r.a.createElement(U.a,{onClick:function(e){e.preventDefault(),v.push("/")}},"Cancel")))},Se=a(225),Ce=Object(L.a)({root:{borderStyle:"solid",borderRadius:"1%",borderWidth:"4px",margin:"2%",paddingTop:"2%",paddingBottom:"2%"},header:{textAlign:"center"},form:{display:"grid",width:"25vmax",margin:"auto"},image:{width:"25vmax",height:"auto",alignSelf:"center",justifyself:"center"}}),Ne=function(){var e=Object(n.useState)(""),t=Object(T.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(""),l=Object(T.a)(i,2),s=l[0],f=l[1],p=Object(n.useState)(""),b=Object(T.a)(p,2),v=b[0],g=b[1],h=Object(n.useState)(""),E=Object(T.a)(h,2),w=E[0],O=E[1],j=Object(n.useState)({}),y=Object(T.a)(j,2),x=y[0],k=y[1],S=Ce(),N=Object(o.b)(),A=Object(o.c)((function(e){return e.logged})),D=Object(u.f)();if(!A)return r.a.createElement("h5",null,"Sign In");if("admin"!==A.role)return r.a.createElement("h5",null,"Sign In to Admin mode");var I=function(){var e=Object(d.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("name",a),n.append("category",s),n.append("description",v),n.append("file",x),e.next=8,N(C(n));case 8:c(""),f(""),g(""),k({}),O(""),D.push("/");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:S.root},r.a.createElement("h3",{className:S.header},"Add New Service"),r.a.createElement("form",{onSubmit:I,className:S.form},r.a.createElement(G.a,{required:!0,id:"outlined-required",label:"Title",name:"name",value:a,onChange:function(e){var t=e.target;return c(t.value)},variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(G.a,{required:!0,id:"outlined-required",name:"category",label:"Category",value:s,onChange:function(e){var t=e.target;return f(t.value)},variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(G.a,{id:"outlined-multiline-flexible",name:"description",label:"Description",value:v,onChange:function(e){var t=e.target;return g(t.value)},variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(Se.a,{id:"raised-button-file",type:"file",name:"image",color:"primary",onChange:function(e){O(URL.createObjectURL(e.target.files[0])),k(e.target.files[0])}}),r.a.createElement("br",null),w.trim()?r.a.createElement("img",{src:w.trim()?w:null,alt:"upload",className:S.image}):null,r.a.createElement("br",null),r.a.createElement(U.a,{type:"submit",color:"primary"},"Submit"),r.a.createElement("br",null),r.a.createElement(U.a,{onClick:function(e){e.preventDefault(),D.push("/dashboard")},color:"secondary"},"Cancel")),r.a.createElement("br",null))},Ae={newUser:function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v()){e.next=4;break}throw console.log("WOOPsss, it got caught: ",t),new Error("Already Signed In");case 4:return e.next=6,p.a.post("/api/user",t);case 6:return a=e.sent,e.abrupt("return",a.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUser:function(){var e=Object(d.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g(),e.next=3,p.a.get("/api/user",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),editUser:function(){var e=Object(d.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=g(),e.next=3,p.a.post("".concat("/api/user","/edit"),t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteUser:function(){var e=Object(d.a)(m.a.mark((function e(){var t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("admin"===(t=v()).role){e.next=4;break}throw console.log("WOOPsss, it got caught",t.role),new Error("UnAuthorized Action");case 4:return a=g(),e.next=7,p.a.delete("/api/user",a);case 7:return n=e.sent,console.log("User Deleted",n.data),e.abrupt("return",n.data);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},De=function(){return function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.getUser();case 2:a=e.sent,t({type:"SET_USER",data:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ie=function(e){return function(){var t=Object(d.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ae.newUser(e);case 2:n=t.sent,a({type:"SET_USER",data:n}),a(y({data:"Welcome ".concat(n.name),category:"success"},5));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Re=function(e){return function(){var t=Object(d.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ae.editUser(e);case 2:n=t.sent,a({type:"SET_USER",data:n}),a(y({data:"".concat(n.name," updated"),category:"success"},5));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.data;case"DELETE":return null;default:return e}},Ue=Object(L.a)((function(e){return{root:{maxWidth:"95vmin",margin:"auto",marginBottom:"4%",padding:"1.5%",display:"flex"},media:{margin:"0%",padding:"0%",marginRight:"auto",maxWidth:"57%"},img:{height:"30vmin",maxWidth:"100%"},content:{width:"40%",marginLeft:"auto"},info:{display:"flex"}}})),Le=function(e){var t=e.item,a=Ue(),n=Object(o.c)((function(e){return e.logged})),c=Object(u.f)();if(!t)return null;var i=function(){c.push("/items/".concat(t.id))};if(n&&"admin"===n.role&&t.review){var l=0;Array.from(t.review,(function(e){return l+=e.rate}));var s=l/t.review.length;t.rate=s}var m=new Date(Date.parse(t.posted)).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return r.a.createElement("div",null,r.a.createElement(re.a,{className:a.root,raised:!0,key:t.id,onClick:i},r.a.createElement("span",{className:a.media},r.a.createElement("img",{className:a.img,alt:t.filename,src:"/api/items/image/"+t.filename})),r.a.createElement("span",{className:a.content},r.a.createElement(J.a,{name:"size-medium",value:t.rate,precision:.25,size:"medium",disabled:!0,className:a.info}),r.a.createElement("span",{className:a.info},t.name,r.a.createElement("br",null),m,r.a.createElement("br",null),"Category: ",t.category,r.a.createElement("br",null),"Total Reviews: ",t.review?t.review.length:null))))},ze=a(235),Be=a(111),We=a.n(Be),qe=a(110),Pe=a.n(qe),Fe=Object(L.a)((function(e){return{root:{maxWidth:"95vmin",margin:"auto"},buttons:{marginLeft:"auto"}}})),Me=function(){var e=Object(o.b)(),t=Object(u.f)(),a=Object(o.c)((function(e){return e.logged})),c=Fe();Object(n.useEffect)((function(){e(De())}),[e,a]),Object(n.useEffect)((function(){e(k())}),[a,e]);var i=Object(o.c)((function(e){return e.user})),l=Object(o.c)((function(e){return e.items}));if(!i)return null;return r.a.createElement("div",{className:c.root},r.a.createElement(ze.a,null,r.a.createElement(le.a,{disableSpacing:!0},r.a.createElement("h3",null,i.name,"'s DashBoard"),r.a.createElement("div",{className:c.buttons},r.a.createElement(M.a,{color:"inherit",onClick:function(e){e.preventDefault(),t.push("/addItem")},"aria-label":"Add an Item"},r.a.createElement(Pe.a,null)),r.a.createElement(M.a,{color:"inherit",onClick:function(e){e.preventDefault(),t.push("/editUser")},"aria-label":"Edit"},r.a.createElement(We.a,null)),r.a.createElement(M.a,{color:"secondary",onClick:function(a){a.preventDefault(),e(function(e){return function(){var t=Object(d.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ae.deleteUser();case 2:a({type:"DELETE",data:e}),a(y({data:"CIAO ".concat(e.name),category:"success"},3.5));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(i)),e(Oe()),t.push("/")},"aria-label":"Delete"},r.a.createElement(be.a,null))))),l?l.map((function(e,t){return r.a.createElement(Le,{key:t,item:e})})):null)},Ge=Object(L.a)({root:{borderStyle:"solid",borderRadius:"1%",borderWidth:"4px",margin:"2%",paddingTop:"2%",paddingBottom:"2%"},header:{textAlign:"center"},form:{display:"grid",width:"25vmax",margin:"auto"},image:{width:"25vmax",height:"auto",alignSelf:"center",justifyself:"center"}}),Je=function(){var e=Object(n.useState)(""),t=Object(T.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(""),l=Object(T.a)(i,2),s=l[0],f=l[1],p=Object(n.useState)(""),b=Object(T.a)(p,2),v=b[0],g=b[1],h=Ge(),E=Object(u.f)(),w=Object(u.g)().id,O=Object(o.b)(),j=Object(o.c)((function(e){return e.logged}));Object(n.useEffect)((function(){O(S(w))}),[O,w,j]);var y=Object(o.c)((function(e){return e.items}))[0];if(!j)return r.a.createElement("h5",null,"Sign In");if("admin"!==j.role)return r.a.createElement("h5",null,"Sign In to Admin mode");if(!y)return null;var x=function(){var e=Object(d.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={name:""===a?y.name:a,category:""===s?y.category:s,description:""===v?y.description:v},e.next=4,O(N(y.id,n));case 4:c(""),f(""),g(""),E.push("/");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:h.root},r.a.createElement("h3",{className:h.header},"Editing ",y.name),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:x,className:h.form},r.a.createElement(G.a,{required:!0,id:"outlined-required",label:"Title",name:"name",value:a,onChange:function(e){var t=e.target;return c(t.value)},variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(G.a,{required:!0,id:"outlined-required",name:"category",label:"Category",value:s,onChange:function(e){var t=e.target;return f(t.value)},variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(G.a,{id:"outlined-multiline-flexible",rowsMax:"4",name:"description",label:"Description",value:v,onChange:function(e){var t=e.target;return g(t.value)},variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(U.a,{type:"submit",color:"primary"},"Submit"),r.a.createElement("br",null),r.a.createElement(U.a,{onClick:function(e){e.preventDefault(),E.push("/dashboard")},color:"secondary"},"Cancel")),r.a.createElement("br",null))},_e=Object(L.a)({root:{borderStyle:"solid",borderRadius:"1%",borderWidth:"4px",margin:"2%",paddingTop:"2%",paddingBottom:"2%"},header:{textAlign:"center"},form:{display:"grid",width:"25vmax",margin:"auto"}}),Ye=function(){var e=Object(n.useState)(""),t=Object(T.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(""),l=Object(T.a)(i,2),s=l[0],f=l[1],p=Object(n.useState)(""),b=Object(T.a)(p,2),v=b[0],g=b[1],h=Object(n.useState)(""),E=Object(T.a)(h,2),w=E[0],O=E[1],j=_e(),y=Object(o.b)(),x=Object(o.c)((function(e){return e.logged})),k=Object(u.f)(),S=function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,y(Ie({name:a,email:s,password:v,adminPin:w}));case 3:c(""),f(""),g(""),O(""),k.push("/");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return null!==x?null:r.a.createElement("div",{className:j.root},r.a.createElement("h3",{className:j.header},"Join Us!!!"),r.a.createElement("form",{onSubmit:S,className:j.form},r.a.createElement(G.a,{required:!0,id:"outlined-required",label:"Name",name:"name",value:a,onChange:function(e){var t=e.target;return c(t.value)},variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(G.a,{required:!0,id:"outlined-required",label:"Email",name:"email",value:s,onChange:function(e){var t=e.target;return f(t.value)},variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(G.a,{required:!0,id:"outlined-password-input",label:"Password",name:"password",type:"password",value:v,onChange:function(e){var t=e.target;return g(t.value)},variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(G.a,{required:!0,id:"outlined-password-input",label:"Admin Pin",name:"adminPin",type:"password",value:w,onChange:function(e){var t=e.target;return O(t.value)},variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(U.a,{type:"submit",color:"primary"},"Submit"),r.a.createElement("br",null),r.a.createElement(U.a,{onClick:function(e){e.preventDefault(),k.push("/")},color:"secondary"},"Cancel"),r.a.createElement("br",null)))},Ve=Object(L.a)({root:{borderStyle:"solid",borderRadius:"1%",borderWidth:"4px",margin:"2%",paddingTop:"2%",paddingBottom:"2%"},header:{textAlign:"center"},form:{display:"grid",width:"25vmax",margin:"auto"}}),He=function(){var e=Object(n.useState)(""),t=Object(T.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(""),l=Object(T.a)(i,2),s=l[0],f=l[1],p=Object(n.useState)(""),b=Object(T.a)(p,2),v=b[0],g=b[1],h=Object(n.useState)(""),E=Object(T.a)(h,2),w=E[0],O=E[1],j=Ve(),y=Object(u.f)(),x=Object(o.b)(),k=Object(o.c)((function(e){return e.logged}));Object(n.useEffect)((function(){x(De())}),[x,k]);var S=Object(o.c)((function(e){return e.user}));if(!S)return null;var C=function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,x(Re({name:a,email:s,password:v,adminPin:w}));case 3:c(""),f(""),g(""),O(""),y.push("/");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:j.root},r.a.createElement("h3",{className:j.header},"Editing ",S.name),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:C,className:j.form},r.a.createElement(G.a,{required:!0,id:"outlined-required",label:"Name",name:"name",value:a,onChange:function(e){var t=e.target;return c(t.value)},variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(G.a,{required:!0,id:"outlined-required",label:"Email",name:"email",value:s,onChange:function(e){var t=e.target;return f(t.value)},variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(G.a,{required:!0,id:"outlined-password-input",label:"Password",name:"password",type:"password",value:v,onChange:function(e){var t=e.target;return g(t.value)},variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(G.a,{required:!0,id:"outlined-password-input",label:"Admin Pin",name:"adminPin",type:"password",value:w,onChange:function(e){var t=e.target;return O(t.value)},variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(U.a,{type:"submit",color:"primary"},"Submit"),r.a.createElement("br",null),r.a.createElement(U.a,{onClick:function(e){e.preventDefault(),y.push("/dashboard")},color:"secondary"},"Cancel"),r.a.createElement("br",null)))},Ke=a(241),Qe=a(244),Xe=function(e){return r.a.createElement(Ke.a,Object.assign({elevation:6,variant:"filled"},e))},Ze=Object(L.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),$e=function(){var e=Object(o.c)((function(e){return e.notification})),t=Ze();return e?r.a.createElement("div",{className:t.root},r.a.createElement(Qe.a,{open:!0},r.a.createElement(Xe,{severity:e.category},e.data))):null},et=Object(L.a)({form:{display:"inline"},input:{color:"white"}}),tt=function(){var e=Object(n.useState)(""),t=Object(T.a)(e,2),a=t[0],c=t[1],i=et(),l=Object(o.b)(),s=(Object(u.f)(),function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),l(je(a)),c("");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:s,className:i.form},r.a.createElement(Se.a,{name:"adminPin",type:"password",size:"small",color:"secondary",className:i.input,value:a,onChange:function(e){var t=e.target;return c(t.value)}})))},at=Object(L.a)({root:{},button:{fontSize:"calc(7px + 0.5vmin)"}}),nt=function(){var e=at(),t=Object(u.f)(),a=Object(o.b)(),c=Object(o.c)((function(e){return e.logged})),i=Object(n.useState)(!1),l=Object(T.a)(i,2),s=l[0],f=l[1],p=function(){var e=Object(d.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),a(Oe()),f(!1),t.push("/");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){t.push("/login")},g=function(e){e.preventDefault(),a(function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.localStorage.removeItem("loggedRatingAppAdmin"),e.next=3,v();case 3:return a=e.sent,e.next=6,t(y({data:"User mode",category:"success"},5));case 6:return e.next=8,t(Ee(a));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f(!1),t.push("/")},h=function(){f(!s)},E=function(e){e.preventDefault(),t.push("/dashboard")},w=function(){t.push("/join")};return r.a.createElement("div",null,(console.log("Auth: ",c),!c||c.error?r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{className:e.button,size:"small",onClick:b,color:"inherit"},"Login"),r.a.createElement(U.a,{className:e.button,color:"inherit",size:"small",onClick:w},"Join")):"user"===c.role?r.a.createElement(r.a.Fragment,null,s?r.a.createElement(r.a.Fragment,null,r.a.createElement(tt,null),r.a.createElement(U.a,{className:e.button,color:"inherit",size:"small",onClick:h},"Cancel")):r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{className:e.button,color:"inherit",size:"small",onClick:h},"Switch to Admin"),r.a.createElement(U.a,{className:e.button,color:"inherit",size:"small",onClick:p},"Logout"))):"admin"===c.role?r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{className:e.button,color:"inherit",size:"small",onClick:g},"User Mode"),r.a.createElement(U.a,{className:e.button,color:"inherit",size:"small",onClick:E},"Dashboard"),r.a.createElement(U.a,{className:e.button,color:"inherit",size:"small",onClick:p},"Logout")):void 0))},rt=a(236),ct=a(237),it=a(238),ot=a(64),lt=a(112),ut=a.n(lt),st=Object(L.a)((function(e){return{root:{position:"relative",marginBottom:"1vmin"},appBar:{position:"relative",backgroundColor:"#282c34",flexGrow:"1",fontSize:"calc(8px + 1vmin)",height:"6.5vh",boxShadow:"none",padding:"1%"},toolbar:{display:"flex",color:"white",paddingLeft:"3vw",minHeight:"100%"},menuButton:{position:"relative",backgroundColor:"#282c34",color:"white",height:"6.5vh",borderRadius:"10%",padding:"1%"},title:{flexGrow:".90"}}})),mt=function(){var e=Object(n.useState)(!1),t=Object(T.a)(e,2),a=t[0],c=t[1],i=st(),o=Object(u.f)();return r.a.createElement(rt.a,{onClickAway:function(){c(!1)}},r.a.createElement("div",{className:i.root},a?r.a.createElement(ct.a,{color:"transparent",className:i.appBar},r.a.createElement(it.a,{disableGutters:!0,className:i.toolbar},r.a.createElement(ot.a,{variant:"inherit",className:i.title},r.a.createElement("h3",{onClick:function(){o.push("/")}},"Rating App")),r.a.createElement(nt,null))):r.a.createElement(M.a,{type:"button",color:"inherit",onClick:function(){c((function(e){return!e}))},className:i.menuButton},r.a.createElement(ut.a,null))))},dt=a(239),ft=function(){var e=Object(o.b)();Object(n.useEffect)((function(){e(function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=v(),e.next=3,t(Ee(a));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]);var t=Object(o.c)((function(e){return e.logged}));return console.log("Logged User: ",t),r.a.createElement("div",{className:"App"},r.a.createElement(mt,null),r.a.createElement(dt.a,{maxWidth:!1,className:"Content"},r.a.createElement($e,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/addItem/"},r.a.createElement(Ne,null)),r.a.createElement(u.a,{path:"/login"},r.a.createElement(ke,null)),r.a.createElement(u.a,{path:"/join"},r.a.createElement(Ye,null)),r.a.createElement(u.a,{path:"/edit/:id"},r.a.createElement(Je,null)),r.a.createElement(u.a,{path:"/dashboard"},r.a.createElement(Me,null)),r.a.createElement(u.a,{path:"/editUser"},r.a.createElement(He,null)),r.a.createElement(u.a,{path:"/items/:id"},r.a.createElement(ge,null)),r.a.createElement(u.a,{path:"/"},r.a.createElement(te,null)))))},pt=a(41),bt=a(113),vt=a(114),gt=Object(pt.combineReducers)({items:I,logged:ye,user:Te,notification:x}),ht=Object(pt.createStore)(gt,Object(bt.composeWithDevTools)(Object(pt.applyMiddleware)(vt.a)));i.a.render(r.a.createElement(o.a,{store:ht},r.a.createElement(l.a,null,r.a.createElement(ft,null))),document.getElementById("root"))}},[[122,1,2]]]);
//# sourceMappingURL=main.98aa70d6.chunk.js.map